<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>BPMN Viewer - Real World Complex V5</title>
  <style>
    body { margin: 0; padding: 20px; font-family: Arial, sans-serif; }
    #canvas { border: 1px solid #ccc; width: 100%; height: 800px; }
    h1 { margin-top: 0; color: #27ae60; }
    .note { background: #d4edda; border: 1px solid #c3e6cb; padding: 10px; margin-bottom: 20px; border-radius: 4px; }
  </style>
  <script src="https://unpkg.com/bpmn-js@17.11.1/dist/bpmn-navigated-viewer.production.min.js"></script>
</head>
<body>
  <h1>âœ… BPMN Viewer - Real World Complex V5 (Fixed Lane Top Calculation)</h1>
  <div class="note">
    <strong>Fixed:</strong> Corridor calculation now uses actual element coordinates<br>
    - Finds topmost element in target lane<br>
    - Corridor ABOVE topmost element (minY - offset)<br>
    - Works for both generated and pre-positioned diagrams
  </div>
  <div id="canvas"></div>
  <script>
    const viewer = new BpmnJS({ container: '#canvas' });
    fetch('output-real-world-complex-v5.bpmn')
      .then(response => response.text())
      .then(xml => {
        viewer.importXML(xml).then(() => {
          viewer.get('canvas').zoom('fit-viewport');
        });
      })
      .catch(err => {
        console.error('Error:', err);
        document.getElementById('canvas').innerHTML = '<p style="color: red;">Error: ' + err.message + '</p>';
      });
  </script>
</body>
</html>
