<?xml version="1.0" encoding="UTF-8"?>
<bpmn:definitions xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL"
                   xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI"
                   xmlns:dc="http://www.omg.org/spec/DD/20100524/DC"
                   id="Definitions_1"
                   targetNamespace="http://bpmn.io/schema/bpmn">
  <bpmn:process id="Process_1" isExecutable="false">
    
    <!-- Lanes -->
    <bpmn:laneSet id="LaneSet_1">
      <bpmn:lane id="lane_director" name="Director">
        <bpmn:flowNodeRef>task_escalate</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>task_request_info</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>end_director</bpmn:flowNodeRef>
      </bpmn:lane>
      <bpmn:lane id="lane_manager" name="Manager">
        <bpmn:flowNodeRef>start</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>task_review</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>gw_decision</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>task_approved</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>task_revision</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>end_manager</bpmn:flowNodeRef>
      </bpmn:lane>
      <bpmn:lane id="lane_archive" name="Archive">
        <bpmn:flowNodeRef>task_archive</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>end_archive</bpmn:flowNodeRef>
      </bpmn:lane>
    </bpmn:laneSet>
    
    <!-- Start Event -->
    <bpmn:startEvent id="start" name="Start">
      <bpmn:outgoing>f1</bpmn:outgoing>
    </bpmn:startEvent>
    
    <!-- Review Task -->
    <bpmn:task id="task_review" name="Review Request">
      <bpmn:incoming>f1</bpmn:incoming>
      <bpmn:outgoing>f2</bpmn:outgoing>
    </bpmn:task>
    
    <!-- Decision Gateway with 5 outputs -->
    <bpmn:exclusiveGateway id="gw_decision" name="Approval Decision?">
      <bpmn:incoming>f2</bpmn:incoming>
      <bpmn:outgoing>f_approved</bpmn:outgoing>
      <bpmn:outgoing>f_revision</bpmn:outgoing>
      <bpmn:outgoing>f_escalate</bpmn:outgoing>
      <bpmn:outgoing>f_request_info</bpmn:outgoing>
      <bpmn:outgoing>f_archive</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    
    <!-- Same-lane outputs (Manager lane) -->
    <bpmn:task id="task_approved" name="Process Approval">
      <bpmn:incoming>f_approved</bpmn:incoming>
      <bpmn:outgoing>f3</bpmn:outgoing>
    </bpmn:task>
    
    <bpmn:task id="task_revision" name="Request Revision">
      <bpmn:incoming>f_revision</bpmn:incoming>
      <bpmn:outgoing>f4</bpmn:outgoing>
    </bpmn:task>
    
    <!-- Cross-lane outputs to Director (up) -->
    <bpmn:task id="task_escalate" name="Escalate to Director">
      <bpmn:incoming>f_escalate</bpmn:incoming>
      <bpmn:outgoing>f6</bpmn:outgoing>
    </bpmn:task>
    
    <bpmn:task id="task_request_info" name="Request More Info">
      <bpmn:incoming>f_request_info</bpmn:incoming>
      <bpmn:outgoing>f7</bpmn:outgoing>
    </bpmn:task>
    
    <!-- Cross-lane output to Archive (down) -->
    <bpmn:task id="task_archive" name="Archive Request">
      <bpmn:incoming>f_archive</bpmn:incoming>
      <bpmn:outgoing>f5</bpmn:outgoing>
    </bpmn:task>
    
    <!-- End Events -->
    <bpmn:endEvent id="end_manager" name="End">
      <bpmn:incoming>f3</bpmn:incoming>
      <bpmn:incoming>f4</bpmn:incoming>
    </bpmn:endEvent>
    
    <bpmn:endEvent id="end_archive" name="End">
      <bpmn:incoming>f5</bpmn:incoming>
    </bpmn:endEvent>
    
    <bpmn:endEvent id="end_director" name="End">
      <bpmn:incoming>f6</bpmn:incoming>
      <bpmn:incoming>f7</bpmn:incoming>
    </bpmn:endEvent>
    
    <!-- Sequence Flows -->
    <bpmn:sequenceFlow id="f1" sourceRef="start" targetRef="task_review"/>
    <bpmn:sequenceFlow id="f2" sourceRef="task_review" targetRef="gw_decision"/>
    <bpmn:sequenceFlow id="f_approved" name="Approved" sourceRef="gw_decision" targetRef="task_approved"/>
    <bpmn:sequenceFlow id="f_revision" name="Needs Revision" sourceRef="gw_decision" targetRef="task_revision"/>
    <bpmn:sequenceFlow id="f_escalate" name="Escalate" sourceRef="gw_decision" targetRef="task_escalate"/>
    <bpmn:sequenceFlow id="f_request_info" name="More Info" sourceRef="gw_decision" targetRef="task_request_info"/>
    <bpmn:sequenceFlow id="f_archive" name="Archive" sourceRef="gw_decision" targetRef="task_archive"/>
    <bpmn:sequenceFlow id="f3" sourceRef="task_approved" targetRef="end_manager"/>
    <bpmn:sequenceFlow id="f4" sourceRef="task_revision" targetRef="end_manager"/>
    <bpmn:sequenceFlow id="f5" sourceRef="task_archive" targetRef="end_archive"/>
    <bpmn:sequenceFlow id="f6" sourceRef="task_escalate" targetRef="end_director"/>
    <bpmn:sequenceFlow id="f7" sourceRef="task_request_info" targetRef="end_director"/>
    
  </bpmn:process>
</bpmn:definitions>
